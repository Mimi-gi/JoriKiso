# Unityを用いた体系LKにおける証明木の構築・妥当性チェックサポーター

.<img width="630" height="350" alt="スクリーンショット 2025-11-17 164939" src="https://github.com/user-attachments/assets/31fc39d9-6157-45af-b17c-b951c8472846" />  (A→B)⊢((¬B)→(¬A))の証明木構築の例

## はじめに
私は論理体系LK(命題論理の範囲)において証明木の構築とそれが妥当であるかどうかを判定するものの実装を行った。C#で論理式やシーケントなどのデータ構造を実装し、それをUnity上で操作することで実際に証明木の構築をすることが可能である。

## 命題変項
<img width="420" height="170" alt="スクリーンショット 2025-11-18 105933" src="https://github.com/user-attachments/assets/7bd9569a-9a0e-41ea-9919-c53394467201" />
このボタンを押せばA,B,Cを表す命題変項ノードを生成できる。これは論理式ノードの最小単位であり、後述する論理演算子ノードやシーケントノードに当てはめて使用する。
## 論理演算子
<img width="333" height="330" alt="スクリーンショット 2025-11-18 105940" src="https://github.com/user-attachments/assets/a86ba14d-fcea-43c7-9aba-2e02ac0a409c" />
<img width="339" height="151" alt="image" src="https://github.com/user-attachments/assets/61836f67-2094-4d34-85c3-65dc41b17e5e" />
各ボタンを押せば論理演算子ノードを生成できる。論理演算子は空のフレームを持った状態で生成され、そこに命題変項を当てはめた状態で使用する。

## シーケント
<img width="248" height="238" alt="スクリーンショット 2025-11-18 105945" src="https://github.com/user-attachments/assets/435c3c54-8ec7-445c-946a-9a1bcc917d83" />
<img width="504" height="240" alt="スクリーンショット 2025-11-18 110417" src="https://github.com/user-attachments/assets/14348b00-d184-4e80-b4f6-38df43d36488" />
このボタンを押してシーケントノードを生成できる。シーケントノードは論理式を当てはめる枠が無い状態で生成できる。左右の+,-ボタンを押すことで論理式を当てはめることができる。また、上下の〇と推論バーの〇(以下ポートと呼ぶ)を接続することで推論バーに前提、結論として登録できる。

## 推論バー
<img width="515" height="510" alt="image" src="https://github.com/user-attachments/assets/c3badc00-e579-4418-9502-d14f32b4afb0" />
推論バーは推論に用いる前提、結論、推論規則を表す。ポートは、接続したい異なる二つのポートをクリックすることで接続できる。また、接続済みのポートの上で右クリックで接続を解除することができる。
また、前提の数は可変であり、推論バーの左端をドラッグすることで長さおよびポートの数を増減させることができる。
推論バーの右端に推論規則ノードをドラッグすることで推論規則をあてはめられる。
推論バーは「前提」「結論」「推論規則」がそろっていないと妥当判定されない。
また、「Start」ボタンを押すと始式用の推論バーを生成できる。使用されていない始式用バーがある状態では実行しても妥当判定されない。

##　実行ボタン
<img width="255" height="253" alt="image" src="https://github.com/user-attachments/assets/994b27e4-7e41-42e5-b815-b9a7ff0f7f6c" />

現在の証明木が妥当かどうかを返す。妥当なら背景色が緑色になり、そうでないなら赤色になる。

## サジェスト機能
前提と結論がそろっている状態では、妥当な推論ができているなら使用された推論規則を右下の枠内に表示する。
前提と推論規則がそろっている場合には、考えられるすべての結論を右下の枠内に表示する。(表示が不適切になる場合がある。その場合は複製後に論理式を当てはめなおす等をしてほしい。)
いずれもドラッグ&ドロップで盤面に複製できる。(複製後にドラッグ移動できない不具合があるので、一度当てはめられている論理式などを外して記号以外の枠の部分をドラッグして動かしてから再度論理式を当てはめるなどしてほしい。)
